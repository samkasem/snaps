{"ast":null,"code":"import _slicedToArray from\"D:/Projects/snaps/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import MasonryLayout from'./MasonryLayout';import{client}from'../client';import{feedQuery,searchQuery}from'../utils/data';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var searchTerm=_ref.searchTerm;var _useState=useState(),_useState2=_slicedToArray(_useState,2),snaps=_useState2[0],setSnaps=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){if(searchTerm!==''){setLoading(true);var query=searchQuery(searchTerm.toLowerCase());client.fetch(query).then(function(data){setSnaps(data);setLoading(false);});}else{client.fetch(feedQuery).then(function(data){setSnaps(data);setLoading(false);});}},[searchTerm]);return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(Spinner,{message:\"Searching Snaps\"}),(snaps===null||snaps===void 0?void 0:snaps.length)!==0&&/*#__PURE__*/_jsx(MasonryLayout,{snaps:snaps}),(snaps===null||snaps===void 0?void 0:snaps.length)===0&&searchTerm!==''&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 text-center text-xl \",children:\"No Snap Found!\"})]});};export default Search;","map":{"version":3,"names":["React","useEffect","useState","MasonryLayout","client","feedQuery","searchQuery","Spinner","Search","searchTerm","snaps","setSnaps","loading","setLoading","query","toLowerCase","fetch","then","data","length"],"sources":["D:/Projects/snaps/frontend/src/components/Search.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport MasonryLayout from './MasonryLayout'\r\nimport { client } from '../client'\r\nimport { feedQuery, searchQuery } from '../utils/data'\r\nimport Spinner from './Spinner'\r\n\r\nconst Search = ({ searchTerm }) => {\r\n  const [snaps, setSnaps] = useState()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (searchTerm !== '') {\r\n      setLoading(true)\r\n      const query = searchQuery(searchTerm.toLowerCase())\r\n      client.fetch(query).then((data) => {\r\n        setSnaps(data)\r\n        setLoading(false)\r\n      })\r\n    } else {\r\n      client.fetch(feedQuery).then((data) => {\r\n        setSnaps(data)\r\n        setLoading(false)\r\n      })\r\n    }\r\n  }, [searchTerm])\r\n\r\n  return (\r\n    <div>\r\n      {loading && <Spinner message='Searching Snaps' />}\r\n      {snaps?.length !== 0 && <MasonryLayout snaps={snaps} />}\r\n      {snaps?.length === 0 && searchTerm !== '' && !loading && (\r\n        <div className='mt-10 text-center text-xl '>No Snap Found!</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search\r\n"],"mappings":"gHAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,MAAT,KAAuB,WAAvB,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,eAAvC,CACA,MAAOC,QAAP,KAAoB,WAApB,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAoB,IAAjBC,WAAiB,MAAjBA,UAAiB,CACjC,cAA0BP,QAAQ,EAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAIQ,UAAU,GAAK,EAAnB,CAAuB,CACrBI,UAAU,CAAC,IAAD,CAAV,CACA,GAAMC,MAAK,CAAGR,WAAW,CAACG,UAAU,CAACM,WAAX,EAAD,CAAzB,CACAX,MAAM,CAACY,KAAP,CAAaF,KAAb,EAAoBG,IAApB,CAAyB,SAACC,IAAD,CAAU,CACjCP,QAAQ,CAACO,IAAD,CAAR,CACAL,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAID,CAPD,IAOO,CACLT,MAAM,CAACY,KAAP,CAAaX,SAAb,EAAwBY,IAAxB,CAA6B,SAACC,IAAD,CAAU,CACrCP,QAAQ,CAACO,IAAD,CAAR,CACAL,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAID,CACF,CAdQ,CAcN,CAACJ,UAAD,CAdM,CAAT,CAgBA,mBACE,uBACGG,OAAO,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,iBAAjB,EADd,CAEG,CAAAF,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAES,MAAP,IAAkB,CAAlB,eAAuB,KAAC,aAAD,EAAe,KAAK,CAAET,KAAtB,EAF1B,CAGG,CAAAA,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAES,MAAP,IAAkB,CAAlB,EAAuBV,UAAU,GAAK,EAAtC,EAA4C,CAACG,OAA7C,eACC,YAAK,SAAS,CAAC,4BAAf,4BAJJ,GADF,CASD,CA7BD,CA+BA,cAAeJ,OAAf"},"metadata":{},"sourceType":"module"}