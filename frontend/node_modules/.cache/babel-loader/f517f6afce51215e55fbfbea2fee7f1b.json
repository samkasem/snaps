{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\snaps\\\\frontend\\\\src\\\\components\\\\UserProfile.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { AiOutlineLogout } from 'react-icons/ai';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { GoogleLogout } from 'react-google-login';\nimport { userCreatedSnapsQuery, userQuery, userSavedSnapsQuery } from '../utils/data';\nimport { client } from '../client';\nimport MasonryLayout from './MasonryLayout';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst activeBtnStyles = 'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none';\nconst notActiveBtnStyles = 'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none';\n\nconst UserProfile = () => {\n  _s();\n\n  var _pins;\n\n  const [user, setUser] = useState();\n  const [snaps, setSnaps] = useState();\n  const [text, setText] = useState('Created');\n  const [activeBtn, setActiveBtn] = useState('created');\n  const navigate = useNavigate();\n  const {\n    userId\n  } = useParams();\n  const User = fetchUser();\n  useEffect(() => {\n    const query = userQuery(userId);\n    client.fetch(query).then(data => {\n      setUser(data[0]);\n    });\n  }, [userId]);\n  useEffect(() => {\n    if (text === 'Created') {\n      const createdSnapsQuery = userCreatedSnapsQuery(userId);\n      client.fetch(createdSnapsQuery).then(data => {\n        setPins(data);\n      });\n    } else {\n      const savedPinsQuery = userSavedSnapsQuery(userId);\n      client.fetch(savedPinsQuery).then(data => {\n        setPins(data);\n      });\n    }\n  }, [text, userId]);\n\n  const logout = () => {\n    localStorage.clear();\n    navigate('/login');\n  };\n\n  if (!user) return /*#__PURE__*/_jsxDEV(Spinner, {\n    message: \"Loading profile\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative pb-2 h-full justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col pb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \" w-full h-370 2xl:h-510 shadow-lg object-cover\",\n            src: \"https://source.unsplash.com/1600x900/?nature,photography,technology\",\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover\",\n            src: user.image,\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-3xl text-center mt-3\",\n          children: user.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 z-1 right-0 p-2\",\n          children: userId === User.googleId && /*#__PURE__*/_jsxDEV(GoogleLogout, {\n            clientId: `${process.env.REACT_APP_GOOGLE_API_TOKEN}`,\n            render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md\",\n              onClick: renderProps.onClick,\n              disabled: renderProps.disabled,\n              children: /*#__PURE__*/_jsxDEV(AiOutlineLogout, {\n                color: \"red\",\n                fontSize: 21\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this),\n            onLogoutSuccess: logout,\n            cookiePolicy: \"single_host_origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('created');\n          },\n          className: `${activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Created\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('saved');\n          },\n          className: `${activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2\",\n        children: /*#__PURE__*/_jsxDEV(MasonryLayout, {\n          pins: pins\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), ((_pins = pins) === null || _pins === void 0 ? void 0 : _pins.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center font-bold items-center w-full text-1xl mt-2\",\n        children: \"No Pins Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserProfile, \"7ET8iBZajyvGyhRU5zJN6JP1PAA=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","AiOutlineLogout","useParams","useNavigate","GoogleLogout","userCreatedSnapsQuery","userQuery","userSavedSnapsQuery","client","MasonryLayout","Spinner","activeBtnStyles","notActiveBtnStyles","UserProfile","user","setUser","snaps","setSnaps","text","setText","activeBtn","setActiveBtn","navigate","userId","User","fetchUser","query","fetch","then","data","createdSnapsQuery","setPins","savedPinsQuery","logout","localStorage","clear","image","userName","googleId","process","env","REACT_APP_GOOGLE_API_TOKEN","renderProps","onClick","disabled","e","target","textContent","pins","length"],"sources":["D:/Projects/snaps/frontend/src/components/UserProfile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { AiOutlineLogout } from 'react-icons/ai'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { GoogleLogout } from 'react-google-login'\r\n\r\nimport {\r\n  userCreatedSnapsQuery,\r\n  userQuery,\r\n  userSavedSnapsQuery,\r\n} from '../utils/data'\r\nimport { client } from '../client'\r\nimport MasonryLayout from './MasonryLayout'\r\nimport Spinner from './Spinner'\r\n\r\nconst activeBtnStyles =\r\n  'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none'\r\nconst notActiveBtnStyles =\r\n  'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none'\r\n\r\nconst UserProfile = () => {\r\n  const [user, setUser] = useState()\r\n  const [snaps, setSnaps] = useState()\r\n  const [text, setText] = useState('Created')\r\n  const [activeBtn, setActiveBtn] = useState('created')\r\n  const navigate = useNavigate()\r\n  const { userId } = useParams()\r\n\r\n  const User = fetchUser()\r\n\r\n  useEffect(() => {\r\n    const query = userQuery(userId)\r\n    client.fetch(query).then((data) => {\r\n      setUser(data[0])\r\n    })\r\n  }, [userId])\r\n\r\n  useEffect(() => {\r\n    if (text === 'Created') {\r\n      const createdSnapsQuery = userCreatedSnapsQuery(userId)\r\n\r\n      client.fetch(createdSnapsQuery).then((data) => {\r\n        setPins(data)\r\n      })\r\n    } else {\r\n      const savedPinsQuery = userSavedSnapsQuery(userId)\r\n\r\n      client.fetch(savedPinsQuery).then((data) => {\r\n        setPins(data)\r\n      })\r\n    }\r\n  }, [text, userId])\r\n\r\n  const logout = () => {\r\n    localStorage.clear()\r\n\r\n    navigate('/login')\r\n  }\r\n\r\n  if (!user) return <Spinner message='Loading profile' />\r\n\r\n  return (\r\n    <div className='relative pb-2 h-full justify-center items-center'>\r\n      <div className='flex flex-col pb-5'>\r\n        <div className='relative flex flex-col mb-7'>\r\n          <div className='flex flex-col justify-center items-center'>\r\n            <img\r\n              className=' w-full h-370 2xl:h-510 shadow-lg object-cover'\r\n              src='https://source.unsplash.com/1600x900/?nature,photography,technology'\r\n              alt='user-pic'\r\n            />\r\n            <img\r\n              className='rounded-full w-20 h-20 -mt-10 shadow-xl object-cover'\r\n              src={user.image}\r\n              alt='user-pic'\r\n            />\r\n          </div>\r\n          <h1 className='font-bold text-3xl text-center mt-3'>\r\n            {user.userName}\r\n          </h1>\r\n          <div className='absolute top-0 z-1 right-0 p-2'>\r\n            {userId === User.googleId && (\r\n              <GoogleLogout\r\n                clientId={`${process.env.REACT_APP_GOOGLE_API_TOKEN}`}\r\n                render={(renderProps) => (\r\n                  <button\r\n                    type='button'\r\n                    className=' bg-white p-2 rounded-full cursor-pointer outline-none shadow-md'\r\n                    onClick={renderProps.onClick}\r\n                    disabled={renderProps.disabled}\r\n                  >\r\n                    <AiOutlineLogout color='red' fontSize={21} />\r\n                  </button>\r\n                )}\r\n                onLogoutSuccess={logout}\r\n                cookiePolicy='single_host_origin'\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='text-center mb-7'>\r\n          <button\r\n            type='button'\r\n            onClick={(e) => {\r\n              setText(e.target.textContent)\r\n              setActiveBtn('created')\r\n            }}\r\n            className={`${\r\n              activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles\r\n            }`}\r\n          >\r\n            Created\r\n          </button>\r\n          <button\r\n            type='button'\r\n            onClick={(e) => {\r\n              setText(e.target.textContent)\r\n              setActiveBtn('saved')\r\n            }}\r\n            className={`${\r\n              activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles\r\n            }`}\r\n          >\r\n            Saved\r\n          </button>\r\n        </div>\r\n\r\n        <div className='px-2'>\r\n          <MasonryLayout pins={pins} />\r\n        </div>\r\n\r\n        {pins?.length === 0 && (\r\n          <div className='flex justify-center font-bold items-center w-full text-1xl mt-2'>\r\n            No Pins Found!\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}