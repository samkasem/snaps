{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\snaps\\\\frontend\\\\src\\\\components\\\\UserProfile.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { AiOutlineLogout } from 'react-icons/ai';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { GoogleLogout } from 'react-google-login';\nimport { userCreatedPinsQuery, userQuery, userSavedPinsQuery } from '../utils/data';\nimport { client } from '../client';\nimport MasonryLayout from './MasonryLayout';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst activeBtnStyles = 'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none';\nconst notActiveBtnStyles = 'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none';\n\nconst UserProfile = () => {\n  _s();\n\n  const [user, setUser] = useState();\n  const [pins, setPins] = useState();\n  const [text, setText] = useState('Created');\n  const [activeBtn, setActiveBtn] = useState('created');\n  const navigate = useNavigate();\n  const {\n    userId\n  } = useParams();\n  const User = localStorage.getItem('user') !== 'undefined' ? JSON.parse(localStorage.getItem('user')) : localStorage.clear();\n  useEffect(() => {\n    const query = userQuery(userId);\n    client.fetch(query).then(data => {\n      setUser(data[0]);\n    });\n  }, [userId]);\n  useEffect(() => {\n    if (text === 'Created') {\n      const createdPinsQuery = userCreatedPinsQuery(userId);\n      client.fetch(createdPinsQuery).then(data => {\n        setPins(data);\n      });\n    } else {\n      const savedPinsQuery = userSavedPinsQuery(userId);\n      client.fetch(savedPinsQuery).then(data => {\n        setPins(data);\n      });\n    }\n  }, [text, userId]);\n\n  const logout = () => {\n    localStorage.clear();\n    navigate('/login');\n  };\n\n  if (!user) return /*#__PURE__*/_jsxDEV(Spinner, {\n    message: \"Loading profile\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative pb-2 h-full justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col pb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \" w-full h-370 2xl:h-510 shadow-lg object-cover\",\n            src: \"https://source.unsplash.com/1600x900/?nature,photography,technology\",\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover\",\n            src: user.image,\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-3xl text-center mt-3\",\n          children: user.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 z-1 right-0 p-2\",\n          children: userId === User.googleId && /*#__PURE__*/_jsxDEV(GoogleLogout, {\n            clientId: `${process.env.REACT_APP_GOOGLE_API_TOKEN}`,\n            render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md\",\n              onClick: renderProps.onClick,\n              disabled: renderProps.disabled,\n              children: /*#__PURE__*/_jsxDEV(AiOutlineLogout, {\n                color: \"red\",\n                fontSize: 21\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this),\n            onLogoutSuccess: logout,\n            cookiePolicy: \"single_host_origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('created');\n          },\n          className: `${activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Created\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('saved');\n          },\n          className: `${activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2\",\n        children: /*#__PURE__*/_jsxDEV(MasonryLayout, {\n          pins: pins\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), (pins === null || pins === void 0 ? void 0 : pins.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center font-bold items-center w-full text-1xl mt-2\",\n        children: \"No Pins Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserProfile, \"h+p6wcOZSKJS9Uo2meBFm6gjYsw=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","AiOutlineLogout","useParams","useNavigate","GoogleLogout","userCreatedPinsQuery","userQuery","userSavedPinsQuery","client","MasonryLayout","Spinner","activeBtnStyles","notActiveBtnStyles","UserProfile","user","setUser","pins","setPins","text","setText","activeBtn","setActiveBtn","navigate","userId","User","localStorage","getItem","JSON","parse","clear","query","fetch","then","data","createdPinsQuery","savedPinsQuery","logout","image","userName","googleId","process","env","REACT_APP_GOOGLE_API_TOKEN","renderProps","onClick","disabled","e","target","textContent","length"],"sources":["D:/Projects/snaps/frontend/src/components/UserProfile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { AiOutlineLogout } from 'react-icons/ai'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { GoogleLogout } from 'react-google-login'\r\n\r\nimport {\r\n  userCreatedPinsQuery,\r\n  userQuery,\r\n  userSavedPinsQuery,\r\n} from '../utils/data'\r\nimport { client } from '../client'\r\nimport MasonryLayout from './MasonryLayout'\r\nimport Spinner from './Spinner'\r\n\r\nconst activeBtnStyles =\r\n  'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none'\r\nconst notActiveBtnStyles =\r\n  'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none'\r\n\r\nconst UserProfile = () => {\r\n  const [user, setUser] = useState()\r\n  const [pins, setPins] = useState()\r\n  const [text, setText] = useState('Created')\r\n  const [activeBtn, setActiveBtn] = useState('created')\r\n  const navigate = useNavigate()\r\n  const { userId } = useParams()\r\n\r\n  const User =\r\n    localStorage.getItem('user') !== 'undefined'\r\n      ? JSON.parse(localStorage.getItem('user'))\r\n      : localStorage.clear()\r\n\r\n  useEffect(() => {\r\n    const query = userQuery(userId)\r\n    client.fetch(query).then((data) => {\r\n      setUser(data[0])\r\n    })\r\n  }, [userId])\r\n\r\n  useEffect(() => {\r\n    if (text === 'Created') {\r\n      const createdPinsQuery = userCreatedPinsQuery(userId)\r\n\r\n      client.fetch(createdPinsQuery).then((data) => {\r\n        setPins(data)\r\n      })\r\n    } else {\r\n      const savedPinsQuery = userSavedPinsQuery(userId)\r\n\r\n      client.fetch(savedPinsQuery).then((data) => {\r\n        setPins(data)\r\n      })\r\n    }\r\n  }, [text, userId])\r\n\r\n  const logout = () => {\r\n    localStorage.clear()\r\n\r\n    navigate('/login')\r\n  }\r\n\r\n  if (!user) return <Spinner message='Loading profile' />\r\n\r\n  return (\r\n    <div className='relative pb-2 h-full justify-center items-center'>\r\n      <div className='flex flex-col pb-5'>\r\n        <div className='relative flex flex-col mb-7'>\r\n          <div className='flex flex-col justify-center items-center'>\r\n            <img\r\n              className=' w-full h-370 2xl:h-510 shadow-lg object-cover'\r\n              src='https://source.unsplash.com/1600x900/?nature,photography,technology'\r\n              alt='user-pic'\r\n            />\r\n            <img\r\n              className='rounded-full w-20 h-20 -mt-10 shadow-xl object-cover'\r\n              src={user.image}\r\n              alt='user-pic'\r\n            />\r\n          </div>\r\n          <h1 className='font-bold text-3xl text-center mt-3'>\r\n            {user.userName}\r\n          </h1>\r\n          <div className='absolute top-0 z-1 right-0 p-2'>\r\n            {userId === User.googleId && (\r\n              <GoogleLogout\r\n                clientId={`${process.env.REACT_APP_GOOGLE_API_TOKEN}`}\r\n                render={(renderProps) => (\r\n                  <button\r\n                    type='button'\r\n                    className=' bg-white p-2 rounded-full cursor-pointer outline-none shadow-md'\r\n                    onClick={renderProps.onClick}\r\n                    disabled={renderProps.disabled}\r\n                  >\r\n                    <AiOutlineLogout color='red' fontSize={21} />\r\n                  </button>\r\n                )}\r\n                onLogoutSuccess={logout}\r\n                cookiePolicy='single_host_origin'\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='text-center mb-7'>\r\n          <button\r\n            type='button'\r\n            onClick={(e) => {\r\n              setText(e.target.textContent)\r\n              setActiveBtn('created')\r\n            }}\r\n            className={`${\r\n              activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles\r\n            }`}\r\n          >\r\n            Created\r\n          </button>\r\n          <button\r\n            type='button'\r\n            onClick={(e) => {\r\n              setText(e.target.textContent)\r\n              setActiveBtn('saved')\r\n            }}\r\n            className={`${\r\n              activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles\r\n            }`}\r\n          >\r\n            Saved\r\n          </button>\r\n        </div>\r\n\r\n        <div className='px-2'>\r\n          <MasonryLayout pins={pins} />\r\n        </div>\r\n\r\n        {pins?.length === 0 && (\r\n          <div className='flex justify-center font-bold items-center w-full text-1xl mt-2'>\r\n            No Pins Found!\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}