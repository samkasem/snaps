{"ast":null,"code":"import _slicedToArray from\"D:/Projects/snaps/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import{HiMenu}from'react-icons/hi';import{AiFillCloseCircle}from'react-icons/ai';import{Link,Route,Routes}from'react-router-dom';import{Sidebar,UserProfile}from'../components';import{client}from'../client';import logo from'../assets/logo.png';import Snaps from'./Snaps';import{userQuery}from'../utils/data';import{fetchUser}from'../utils/fetchUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggleSidebar=_useState2[0],setToggleSidebar=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var scrollRef=useRef(null);var userInfo=fetchUser();useEffect(function(){var query=userQuery(userInfo===null||userInfo===void 0?void 0:userInfo.googleId);client.fetch(query).then(function(data){setUser(data[0]);});},[]);useEffect(function(){scrollRef.current.scrollTo(0,0);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex h-screen flex-initial\",children:/*#__PURE__*/_jsx(Sidebar,{user:user&&user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex md:hidden flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 w-full flex flex-row justify-between items-center shadow-md\",children:[/*#__PURE__*/_jsx(HiMenu,{fontSize:40,className:\"cursor-pointer\",onClick:function onClick(){return setToggleSidebar(true);}}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"w-28\"})}),/*#__PURE__*/_jsx(Link,{to:\"user-profile/\".concat(user===null||user===void 0?void 0:user._id),children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(user===null||user===void 0?void 0:user.image),alt:\"user-pic\",className:\"\\\"w-9 h-9 rounded-full\"})})]}),toggleSidebar&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-full flex justify-end items-center p-2\",children:/*#__PURE__*/_jsx(AiFillCloseCircle,{fontSize:30,className:\"cursor-pointer\",onClick:function onClick(){return setToggleSidebar(false);}})}),/*#__PURE__*/_jsx(Sidebar,{user:user&&user,closeToggle:setToggleSidebar})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pb-2 flex-1 h-screen overflow-y-scroll\",ref:scrollRef,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/user-profile/:userId\",element:/*#__PURE__*/_jsx(UserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(Snaps,{user:user&&user})})]})})]});};export default Home;","map":{"version":3,"names":["React","useState","useRef","useEffect","HiMenu","AiFillCloseCircle","Link","Route","Routes","Sidebar","UserProfile","client","logo","Snaps","userQuery","fetchUser","Home","toggleSidebar","setToggleSidebar","user","setUser","scrollRef","userInfo","query","googleId","fetch","then","data","current","scrollTo","_id","image"],"sources":["D:/Projects/snaps/frontend/src/container/Home.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport { HiMenu } from 'react-icons/hi'\r\nimport { AiFillCloseCircle } from 'react-icons/ai'\r\nimport { Link, Route, Routes } from 'react-router-dom'\r\nimport { Sidebar, UserProfile } from '../components'\r\nimport { client } from '../client'\r\nimport logo from '../assets/logo.png'\r\nimport Snaps from './Snaps'\r\nimport { userQuery } from '../utils/data'\r\nimport { fetchUser } from '../utils/fetchUser'\r\n\r\nconst Home = () => {\r\n  const [toggleSidebar, setToggleSidebar] = useState(false)\r\n  const [user, setUser] = useState(null)\r\n  const scrollRef = useRef(null)\r\n\r\n  const userInfo = fetchUser()\r\n\r\n  useEffect(() => {\r\n    const query = userQuery(userInfo?.googleId)\r\n    client.fetch(query).then((data) => {\r\n      setUser(data[0])\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    scrollRef.current.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  return (\r\n    <div className='flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out'>\r\n      <div className='hidden md:flex h-screen flex-initial'>\r\n        <Sidebar user={user && user} />\r\n      </div>\r\n      <div className='flex md:hidden flex-row'>\r\n        <div className='p-2 w-full flex flex-row justify-between items-center shadow-md'>\r\n          <HiMenu\r\n            fontSize={40}\r\n            className='cursor-pointer'\r\n            onClick={() => setToggleSidebar(true)}\r\n          />\r\n          <Link to='/'>\r\n            <img src={logo} alt='logo' className='w-28' />\r\n          </Link>\r\n          <Link to={`user-profile/${user?._id}`}>\r\n            <img\r\n              src={`${user?.image}`}\r\n              alt='user-pic'\r\n              className='\"w-9 h-9 rounded-full'\r\n            />\r\n          </Link>\r\n        </div>\r\n        {toggleSidebar && (\r\n          <div className='fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in'>\r\n            <div className='absolute w-full flex justify-end items-center p-2'>\r\n              <AiFillCloseCircle\r\n                fontSize={30}\r\n                className='cursor-pointer'\r\n                onClick={() => setToggleSidebar(false)}\r\n              />\r\n            </div>\r\n            <Sidebar user={user && user} closeToggle={setToggleSidebar} />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='pb-2 flex-1 h-screen overflow-y-scroll' ref={scrollRef}>\r\n        <Routes>\r\n          <Route path='/user-profile/:userId' element={<UserProfile />} />\r\n          <Route path='/*' element={<Snaps user={user && user} />} />\r\n        </Routes>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}